<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>K-Culture Gallery</title>
  <style>
    :root{
      --bg:#070a10;
      --panel:rgba(255,255,255,.06);
      --border:rgba(255,255,255,.12);
      --text:rgba(255,255,255,.92);
      --muted:rgba(255,255,255,.65);
      --gap:16px;
      --radius:16px;
      --shadow:0 10px 30px rgba(0,0,0,.35);
    }
    html,body{height:100%}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Noto Sans KR", Arial, "Apple SD Gothic Neo", sans-serif;
      color:var(--text);
      background:
        radial-gradient(1200px 600px at 20% 0%, rgba(110,92,255,.18), transparent 55%),
        radial-gradient(900px 500px at 80% 10%, rgba(0,212,255,.12), transparent 55%),
        radial-gradient(1100px 700px at 60% 100%, rgba(255,0,128,.10), transparent 60%),
        linear-gradient(180deg, #050711 0%, #070a10 100%);
    }
    .wrap{max-width:1100px;margin:0 auto;padding:44px 18px 72px}
    header{display:flex;flex-direction:column;gap:10px;margin-bottom:26px}
    h1{font-size:34px;letter-spacing:-.02em;margin:0}
    .sub{color:var(--muted);line-height:1.6;margin:0}
    .grid{display:flex;flex-direction:column;gap:18px}

    .slider{
      background:var(--panel);
      border:1px solid var(--border);
      border-radius:var(--radius);
      box-shadow:var(--shadow);
      overflow:hidden;
    }
    .slider-head{
      display:flex;align-items:flex-end;justify-content:space-between;
      padding:16px 16px 10px;
      gap:12px;
    }
    .slider-title{
      display:flex;flex-direction:column;gap:4px;
      min-width:0;
    }
    .slider-title h2{margin:0;font-size:18px;letter-spacing:-.01em}
    .slider-title p{margin:0;color:var(--muted);font-size:13px}
    .controls{display:flex;align-items:center;gap:8px;flex-shrink:0}
    .btn{
      width:38px;height:38px;border-radius:10px;
      border:1px solid var(--border);
      background:rgba(255,255,255,.05);
      color:var(--text);
      cursor:pointer;
      display:grid;place-items:center;
      transition:transform .06s ease, background .2s ease, opacity .2s ease;
    }
    .btn:hover{background:rgba(255,255,255,.08)}
    .btn:active{transform:translateY(1px)}
    .btn:disabled{opacity:.35;cursor:not-allowed}
    .dots{display:flex;gap:6px;margin-left:6px}
    .dot{
      width:7px;height:7px;border-radius:99px;
      background:rgba(255,255,255,.28);
    }
    .dot[aria-current="true"]{background:rgba(255,255,255,.85)}
    .track{
      --card: 100%;
      display:flex;
      gap:var(--gap);
      padding:0 16px 16px;
      overflow:auto;
      scroll-snap-type:x mandatory;
      scroll-behavior:smooth;
      -webkit-overflow-scrolling:touch;
    }
    .track::-webkit-scrollbar{height:10px}
    .track::-webkit-scrollbar-thumb{background:rgba(255,255,255,.12);border-radius:999px}
    .card{
      flex:0 0 var(--card);
      scroll-snap-align:start;
      border-radius:14px;
      overflow:hidden;
      background:rgba(0,0,0,.35);
      border:1px solid rgba(255,255,255,.10);
      position:relative;
      aspect-ratio: 16 / 10;
    }
    .card img{
      width:100%;height:100%;
      object-fit:cover;
      display:block;
      transform:scale(1.01);
    }
    .caption{
      position:absolute;left:10px;right:10px;bottom:10px;
      padding:8px 10px;
      border-radius:12px;
      background:rgba(0,0,0,.46);
      border:1px solid rgba(255,255,255,.10);
      color:rgba(255,255,255,.90);
      font-size:12px;
      line-height:1.3;
      backdrop-filter: blur(6px);
      overflow:hidden;
      white-space:nowrap;
      text-overflow:ellipsis;
    }

    /* desktop: 3 images visible per slider */
    @media (min-width: 900px){
      .track{--card: calc((100% - (var(--gap) * 2)) / 3);}
      .slider-head{padding:18px 18px 12px}
      .track{padding:0 18px 18px}
      h1{font-size:40px}
    }
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <h1>K-Culture Gallery</h1>
      <p class="sub">컨셉별(4개) 슬라이더 갤러리입니다. 모바일에서는 슬라이더 1장씩 넘겨보고, PC에서는 각 슬라이더마다 3장이 한 화면에 보이도록 구성했습니다.</p>
    </header>

    <main class="grid">

      <section class="slider" data-slider>
        <div class="slider-head">
          <div class="slider-title">
            <h2>1. Nature / Ritual</h2>
            <p>Swipe / scroll to explore</p>
          </div>
          <div class="controls">
            <button class="btn" type="button" data-prev aria-label="Previous">‹</button>
            <button class="btn" type="button" data-next aria-label="Next">›</button>
            <div class="dots" aria-hidden="true"><span class="dot" aria-current="true"></span><span class="dot" aria-current="false"></span><span class="dot" aria-current="false"></span></div>
          </div>
        </div>
        <div class="track" role="region" aria-label="Nature / Ritual slider">
          
        <figure class="card">
          <img src="images/kc_slide1_01.jpg" alt="Walking in the grove">
          <figcaption class="caption">Walking in the grove</figcaption>
        </figure>
        <figure class="card">
          <img src="images/kc_slide1_02.jpg" alt="Facing the light">
          <figcaption class="caption">Facing the light</figcaption>
        </figure>
        <figure class="card">
          <img src="images/kc_slide1_03.jpg" alt="Gesture in the woods">
          <figcaption class="caption">Gesture in the woods</figcaption>
        </figure>
        </div>
      </section>


      <section class="slider" data-slider>
        <div class="slider-head">
          <div class="slider-title">
            <h2>2. Vocal / Hanbok</h2>
            <p>Swipe / scroll to explore</p>
          </div>
          <div class="controls">
            <button class="btn" type="button" data-prev aria-label="Previous">‹</button>
            <button class="btn" type="button" data-next aria-label="Next">›</button>
            <div class="dots" aria-hidden="true"><span class="dot" aria-current="true"></span><span class="dot" aria-current="false"></span><span class="dot" aria-current="false"></span></div>
          </div>
        </div>
        <div class="track" role="region" aria-label="Vocal / Hanbok slider">
          
        <figure class="card">
          <img src="images/kc_slide2_01.jpg" alt="Aria — reaching">
          <figcaption class="caption">Aria — reaching</figcaption>
        </figure>
        <figure class="card">
          <img src="images/kc_slide2_02.jpg" alt="Aria — breath">
          <figcaption class="caption">Aria — breath</figcaption>
        </figure>
        <figure class="card">
          <img src="images/kc_slide2_03.jpg" alt="Aria — climax">
          <figcaption class="caption">Aria — climax</figcaption>
        </figure>
        </div>
      </section>


      <section class="slider" data-slider>
        <div class="slider-head">
          <div class="slider-title">
            <h2>3. Mask / Movement</h2>
            <p>Swipe / scroll to explore</p>
          </div>
          <div class="controls">
            <button class="btn" type="button" data-prev aria-label="Previous">‹</button>
            <button class="btn" type="button" data-next aria-label="Next">›</button>
            <div class="dots" aria-hidden="true"><span class="dot" aria-current="true"></span><span class="dot" aria-current="false"></span><span class="dot" aria-current="false"></span></div>
          </div>
        </div>
        <div class="track" role="region" aria-label="Mask / Movement slider">
          
        <figure class="card">
          <img src="images/kc_slide3_01.jpg" alt="Solo — spiral">
          <figcaption class="caption">Solo — spiral</figcaption>
        </figure>
        <figure class="card">
          <img src="images/kc_slide3_02.jpg" alt="Masks — quartet">
          <figcaption class="caption">Masks — quartet</figcaption>
        </figure>
        <figure class="card">
          <img src="images/kc_slide3_03.jpg" alt="Ensemble — lights">
          <figcaption class="caption">Ensemble — lights</figcaption>
        </figure>
        </div>
      </section>


      <section class="slider" data-slider>
        <div class="slider-head">
          <div class="slider-title">
            <h2>4. Concert / Ensemble</h2>
            <p>Swipe / scroll to explore</p>
          </div>
          <div class="controls">
            <button class="btn" type="button" data-prev aria-label="Previous">‹</button>
            <button class="btn" type="button" data-next aria-label="Next">›</button>
            <div class="dots" aria-hidden="true"><span class="dot" aria-current="true"></span><span class="dot" aria-current="false"></span><span class="dot" aria-current="false"></span></div>
          </div>
        </div>
        <div class="track" role="region" aria-label="Concert / Ensemble slider">
          
        <figure class="card">
          <img src="images/kc_slide4_01.jpg" alt="Opening remarks">
          <figcaption class="caption">Opening remarks</figcaption>
        </figure>
        <figure class="card">
          <img src="images/kc_slide4_02.jpg" alt="Trio — flute / handpan / cello">
          <figcaption class="caption">Trio — flute / handpan / cello</figcaption>
        </figure>
        <figure class="card">
          <img src="images/kc_slide4_03.jpg" alt="Hall — blue night">
          <figcaption class="caption">Hall — blue night</figcaption>
        </figure>
        </div>
      </section>

    </main>
  </div>

  <script>
    function clamp(n,min,max){return Math.max(min, Math.min(max,n));}

    function initSlider(root){
      const track = root.querySelector('.track');
      const prev = root.querySelector('[data-prev]');
      const next = root.querySelector('[data-next]');
      const dots = Array.from(root.querySelectorAll('.dot'));
      const cards = Array.from(track.querySelectorAll('.card'));

      function pageSize(){
        const card = cards[0];
        if(!card) return 1;
        const trackRect = track.getBoundingClientRect();
        const cardRect = card.getBoundingClientRect();
        const gap = parseFloat(getComputedStyle(track).gap || '16') || 16;
        const count = Math.max(1, Math.round((trackRect.width + gap) / (cardRect.width + gap)));
        return clamp(count, 1, cards.length);
      }

      function currentIndex(){
        const gap = parseFloat(getComputedStyle(track).gap || '16') || 16;
        const cardW = cards[0].getBoundingClientRect().width + gap;
        return clamp(Math.round(track.scrollLeft / cardW), 0, cards.length-1);
      }

      function update(){
        const idx = currentIndex();
        const size = pageSize();
        const pages = Math.max(1, Math.ceil(cards.length / size));
        const page = clamp(Math.floor(idx / size), 0, pages-1);

        dots.forEach((d,i)=> d.setAttribute('aria-current', String(i===page)));
        prev.disabled = (page === 0);
        next.disabled = (page >= pages-1);
      }

      function scrollToPage(delta){
        const size = pageSize();
        const pages = Math.max(1, Math.ceil(cards.length / size));
        const page = clamp(Math.floor(currentIndex() / size) + delta, 0, pages-1);
        const targetIndex = page * size;
        const gap = parseFloat(getComputedStyle(track).gap || '16') || 16;
        const cardW = cards[0].getBoundingClientRect().width + gap;
        track.scrollTo({left: targetIndex * cardW, behavior:'smooth'});
      }

      prev.addEventListener('click', ()=>scrollToPage(-1));
      next.addEventListener('click', ()=>scrollToPage(1));
      track.addEventListener('scroll', ()=>{window.requestAnimationFrame(update);});
      window.addEventListener('resize', ()=>{window.requestAnimationFrame(update);});

      update();
    }

    document.querySelectorAll('[data-slider]').forEach(initSlider);
  </script>
</body>
</html>
